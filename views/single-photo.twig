{% extends 'base.twig' %}

{% block content %}

<!-- Photo block -->
<div class="relative flex flex-col gap-5 md:mt-9 md:flex-row 
                md:h-[calc(100vh-80px-118px-36px)]">

    <!-- Photo (image) -->
    <section class="flex-1 relative">
        {# TODO : fix image size (create an wp image size for it) #}
        {# TODO : add appropriated attibutes #}
        <img src="{{ post.thumbnail.src }}" class="max-h-full max-w-full absolute bottom-0 right-0">
    </section>

    <!-- Photo's metadata -->
    <section class="flex-1 font-spacemono font-regular text-sm tracking-widest uppercase flex flex-col gap-4 justify-end items-start md:pb-9
                   md:order-first md:border-b md:border-black">
        <h1 class="text-5xl italic tracking-normal w-28 [word-break: keep-all] [white-space: normal]">
            {{ post.title}}
        </h1>
        <p>Référence : {{ post.meta('reference') }}</p>
        <p>Catégorie :
            {% for term in post.terms('categorie') %}
            {{ term }}
            {% endfor%}
        </p>
        <p>Format :
            {% for term in post.terms('format') %}
            {{ term }}
            {% endfor%}
        </p>
        <p>Type : {{ post.meta('type') }}</p>
        <p>Année : {{ post.date('Y') }} </p>
    </section>
</div>

<!-- Interactions block -->
<div class="flex gap-5 items-center md:h-[118px] md:border-b md:border-black">

    <!-- Contact button with photo's reference -->
    <section class="font-poppins flex flex-col justify-between items-start gap-4 mt-2 mb-6
                        md:flex-1 md:flex-row md:mt-6 md:mb-6 md:items-center">

        <!-- <hr class="relative w-lvw -left-[12.5%] border-black md:hidden"> -->

        <p class="font-light text-sm md:flex-1">Cette photo vous intéresse ?</p>
        <button type="button" 
                @click="
                    contactModalOpened = true;
                    $nextTick(() => document.getElementById('ref-photo').value = '{{ post.meta('reference') }}')"
                class="font-spacemono font-regular w-[263px] bg-gray-300 rounded-sm h-12 md:w-64">

            Contact
        </button>

        <!-- <hr class="relative w-lvw -left-[12.5%] border-black md:hidden"> -->
    </section>

    <!-- Photos navigation -->
    <section class="flex-1 hidden md:block ">

        {% include '/components/photos-navigation.twig' %}

    </section>

</div>

<!-- Recommanded photos -->
<section class="p-8">
    <p>Vous aimeriez aussi...</p>
</section>

{% endblock %}
