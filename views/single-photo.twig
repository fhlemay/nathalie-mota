{% extends 'base.twig' %}

{% block content %}

<!-- Photo block -->
<div class="relative flex flex-col gap-5 mb-10 mt-5
            md:mb-0 md:mt-9 md:flex-row md:h-[calc(100vh-80px-118px-36px)]">

    <!-- Photo (image) -->
    <section class="mx-auto w-3/4 md:flex-1 flex flex-col justify-end items-end">

        {{ include( '/components/photo-image.twig', {'photo': post} ) }}

    </section>

    <!-- Photo's metadata -->
    <section class="mx-auto w-3/4 md:flex-1 md:pb-9 flex flex-col justify-end
                   md:order-first md:border-b md:border-black">

        {{ include( '/components/photo-metadata.twig', {'photo': post} ) }}

    </section>
</div>

<!-- Interactions block -->
<div class="border-b border-t border-black flex gap-5 items-center md:h-[118px] md:border-t-white">

    <!-- Contact button with photo's reference -->
    <section class="mx-auto w-3/4 mt-6 mb-6 md:flex-1">

        {{ include( '/components/photo-contact-button.twig', {'photo': post} ) }}

    </section>

    <!-- Photos navigation -->
    <section class="mx-auto w-3/4 flex-1 hidden md:block ">

        {{ include( '/components/photo-navigation.twig', {'photo': post} ) }}

    </section>

</div>

<!-- Recommanded photos -->
<section class="flex flex-col items-center md:items-start">

    <h2 class="font-spacemono font-regular text-lg uppercase tracking-normal md:mt-20">Vous aimeriez aussi</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-5 md:mt-12 md:mb-28"
        x-data="{ showLightbox: false, lightboxPhoto: '', lightboxPrev: '', lightboxNext: '' }">

        {% for related_photo in related_posts %}
        {{ include( '/components/photo-card.twig', {'photo': related_photo} ) }}
        {% endfor %}

        {{ include( '/components/lightbox.twig' ) }}

    </div>

</section>

{% endblock %}
